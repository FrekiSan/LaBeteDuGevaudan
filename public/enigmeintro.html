<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Énigme INTRO</title>
  <link rel="icon" href="assets/img/favicon.ico">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/responsive.css">
  <script src="assets/js/ordreClicHandler.js" defer></script>
  <script>document.addEventListener('DOMContentLoaded',() => {
  setupOrdreClic(["z5", "z2", "z1", "z4", "z7", "z3", "z6", "z9"], () => {
    window.location.href = "enigme1.html";
  });
});
</script>
  <style>
    .intro-grid {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      grid-template-rows: repeat(3, 100px);
      gap: 20px;
      justify-content: center;
      align-items: center;
      margin: 30px auto;
    }
    .click-zone {
      width: 100px; height: 100px;
      border: 2px solid transparent;
      border-radius: 50%;
      background-color: rgba(255,255,255,.1);
      cursor: pointer;
      transition: border .2s;
    }
    .click-zone:hover { border: 2px dashed rgba(255,255,255,.5); }
    iframe { width:100%; max-width:800px;
      height:450px;
      display:block;
      margin:20px auto;
    }
  </style>

<style>
.spoiler-wrap{position:relative;
  display:inline-block;
  max-width:100%;}
.spoiler-wrap img.spoilered{filter:blur(14px) brightness(0.7);
  transition:filter .25s ease;
  cursor:pointer;}
.spoiler-wrap.revealed img.spoilered{filter:none;}
.spoiler-badge{position:absolute;left:50%;
  top:50%;transform:translate(-50%,-50%);
  padding:.5rem .75rem;background:rgba(0,0,0,.7);
  color:#fff;
  border-radius:.5rem;
  font-size:.9rem;
  user-select:none;
  pointer-events:none;}

.spoiler-hint{position:absolute;
  right:.5rem;bottom:.5rem;
  background:rgba(0,0,0,.55);
  color:#fff;
  padding:.25rem .5rem;border-radius:.375rem;font-size:.75rem;
  pointer-events:none;
}
</style>

<script>
(function () {
  function shouldSpoiler(img) {
    if (!img) return false;
    if (img.dataset && (img.dataset.nospoiler === "1" || img.dataset.nospoiler === "true")) return false;
    var cls = (img.className || "").toLowerCase();
    if (/(logo|favicon|icon)/.test(cls)) return false;
    var src = (img.getAttribute("src") || "").toLowerCase();
    if (/(logo|favicon|icon|header)/.test(src)) return false;
    if (img.naturalWidth && img.naturalWidth < 64) return false; // petites images UI
    var el = img;
    while (el) {
      var tag = (el.tagName || "").toLowerCase();
      var id  = (el.id || "").toLowerCase();
      var c   = (el.className || "").toLowerCase();
      if (/(header|nav|footer)/.test(tag) || /(header|nav|footer)/.test(id) || /(header|nav|footer)/.test(c)) return false;
      el = el.parentElement;
    }
    return true;
  }

  function wrapSpoiler(img) {
    if (img.closest && img.closest('.spoiler-wrap')) return;
    var wrap = document.createElement('div');
    wrap.className = 'spoiler-wrap';
    var badge = document.createElement('div');
    badge.className = 'spoiler-badge';
    badge.textContent = 'Image masquée';
    var hint = document.createElement('div');
    hint.className = 'spoiler-hint';
    hint.textContent = 'Cliquer pour révéler';
    img.classList && img.classList.add('spoilered');
    if (img.parentNode) img.parentNode.insertBefore(wrap, img);
    wrap.appendChild(img);
    wrap.appendChild(badge);
    wrap.appendChild(hint);
    wrap.addEventListener('click', function () {
      wrap.classList.toggle('revealed');
    });
  }

  function initSpoilers() {
    var imgs = Array.prototype.slice.call(document.images || []);
    imgs.forEach(function (img) {
      if (shouldSpoiler(img)) {
        if (img.complete) {
          wrapSpoiler(img);
        } else {
          img.addEventListener('load', function () { wrapSpoiler(img); }, { once: true });
        }
      }
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initSpoilers);
  } else {
    initSpoilers();
  }
})();
</script>


<script src="assets/js/auth.fix.js" defer></script>
<script src="assets/js/flow.fix.js" defer></script>
</head>
<body>
  <header>
    <img src="assets/img/logo.png" alt="logo" class="logo">
  <nav class="header-links">
    <a href="#" id="openLogin" data-auth="guest" onclick="openModal('loginModal')">Se connecter</a>
    <a href="#" id="logoutBtn" data-auth="logged" style="display:none;">Se déconnecter</a>
    <a href="#" id="openContact">Contact</a>
    <a href="#" id="openCredits">Crédits</a>
    <a href="#" id="openClassement">Classement</a>
  </nav>
</header>
<div id="video" style="display:none"></div>

  <h1>Énigme INTRO</h1>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/eKAW8QDZoaQ?si=HocZ_PZiuiDeQESn" allowfullscreen></iframe>
  <div class="intro-grid">
    <div id="z1" class="click-zone" data-order="3" onclick="handleClick('z1')"></div>
    <div id="z2" class="click-zone" data-order="2" onclick="handleClick('z2')"></div>
    <div id="z3" class="click-zone" data-order="6" onclick="handleClick('z3')"></div>
    <div id="z4" class="click-zone" data-order="4" onclick="handleClick('z4')"></div>
    <div id="z5" class="click-zone" data-order="1" onclick="handleClick('z5')"></div>
    <div id="z6" class="click-zone" data-order="7" onclick="handleClick('z6')"></div>
    <div id="z7" class="click-zone" data-order="5" onclick="handleClick('z7')"></div>
    <div id="z8" class="click-zone" onclick="handleClick('z8')"></div>
    <div id="z9" class="click-zone" data-order="8" onclick="handleClick('z9')"></div>
  </div>

  <footer>
<p>
    <a href="https://jigsaw.w3.org/css-validator/check/referer">
        <img style="border:0;width:88px;height:31px"
            src="https://jigsaw.w3.org/css-validator/images/vcss-blue"
            alt="Valid CSS!" />
    </a>
</p>
</footer>
<script src="assets/js/utilities.js" defer></script>
<script src="assets/js/manager.js" defer></script>
<script src="assets/js/app.js" defer></script>
<script src="assets/js/classement.js" defer></script>
</body>
</html>
